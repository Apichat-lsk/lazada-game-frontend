<div class="w-full h-screen bg-gray-900 flex justify-center items-center">
    <div class="w-full max-w-sm h-[100vh] 
                bg-[url('/assets/images/forgot/BG.png')] bg-center bg-contain px-6 sm:px-18 bg-no-repeat flex flex-col justify-start items-center relative">
        <img src="/assets/images/login/Logo.png" class="w-48 object-contain object-center" alt="Logo">
        <div class="w-full rounded-[8vh] p-1
            bg-[#112589] relative">
            <div class="w-full h-full rounded-[8vh] p-1 
          bg-[#ffffff]">
                <div class="w-full h-full rounded-[8vh] p-2
            bg-gradient-to-b from-[#ffcbeb] to-[#ffb7f8]">
                    <div class="flex flex-col justify-center items-center">
                        <button type="button" (click)="goBack()" class="absolute top-0 -translate-y-10 left-5 w-10">
                            <img src="/assets/images/login/BTN-Back.png" class="w-8 md:w-12 object-cover cursor-pointer" alt="Back">
                        </button>
                        <div class="w-full flex flex-col justify-center items-center gap-4">
                            <p class="text-2xl sm:text-4xl font-semibold text-[#12268a]">กรอกรหัส OTP</p>
                            <img src="/assets/images/otp/Rectangle.png" class="w-48 object-cover cursor-pointer">
                            <p class="text-lg text-[#12268a]">ฉันได้ส่งรหัส OTP ไปยังอีเมล {{showEmail}}</p>
                            <form [formGroup]="otpForm" (ngSubmit)="onSubmit()" autocomplete="one-time-code" class="w-full flex flex-col items-center">
                                <div class="flex justify-between items-center w-full">
                                    <input type="tel" #otpInput0 (keydown)="onKeyDown($event, 0)" maxlength="1" inputmode="numeric" pattern="[0-9]*" formControlName="digit1"
                                        (input)="onInput($event, 0)" (paste)="onPaste($event)"
                                        class="w-11 h-11 text-center text-7xl rounded focus:outline-none focus:ring-2 bg-white border-0 focus:ring-pink-500"
                                        [class.border-red-500]="digits[0]?.invalid && digits[0]?.touched" autocomplete="one-time-code" />
                                    <input type="tel" #otpInput1 (keydown)="onKeyDown($event, 1)" maxlength="1" inputmode="numeric" pattern="[0-9]*" formControlName="digit2"
                                        (input)="onInput($event, 1)"
                                        class="w-11 h-11 text-center text-7xl rounded focus:outline-none focus:ring-2 bg-white border-0 focus:ring-pink-500"
                                        [class.border-red-500]="digits[1]?.invalid && digits[1]?.touched" autocomplete="one-time-code" />
                                    <input type="tel" #otpInput2 (keydown)="onKeyDown($event, 2)" maxlength="1" inputmode="numeric" pattern="[0-9]*" formControlName="digit3"
                                        (input)="onInput($event, 2)"
                                        class="w-11 h-11 text-center text-7xl rounded focus:outline-none focus:ring-2 bg-white border-0 focus:ring-pink-500"
                                        [class.border-red-500]="digits[2]?.invalid && digits[2]?.touched" autocomplete="one-time-code" />
                                    <input type="tel" #otpInput3 (keydown)="onKeyDown($event, 3)" maxlength="1" inputmode="numeric" pattern="[0-9]*" formControlName="digit4"
                                        (input)="onInput($event, 3)"
                                        class="w-11 h-11 text-center text-7xl rounded focus:outline-none focus:ring-2 bg-white border-0 focus:ring-pink-500"
                                        [class.border-red-500]="digits[3]?.invalid && digits[3]?.touched" autocomplete="one-time-code" />
                                    <input type="tel" #otpInput4 (keydown)="onKeyDown($event, 4)" maxlength="1" inputmode="numeric" pattern="[0-9]*" formControlName="digit5"
                                        (input)="onInput($event, 4)"
                                        class="w-11 h-11 text-center text-7xl rounded focus:outline-none focus:ring-2 bg-white border-0 focus:ring-pink-500"
                                        [class.border-red-500]="digits[4]?.invalid && digits[4]?.touched" autocomplete="one-time-code" />
                                    <input type="tel" #otpInput5 (keydown)="onKeyDown($event, 5)" maxlength="1" inputmode="numeric" pattern="[0-9]*" formControlName="digit6"
                                        (input)="onInput($event, 5)"
                                        class="w-11 h-11 text-center text-7xl rounded focus:outline-none focus:ring-2 bg-white border-0 focus:ring-pink-500"
                                        [class.border-red-500]="digits[5]?.invalid && digits[5]?.touched" autocomplete="one-time-code" />
                                </div>

                            </form>
                            <div class="w-full text-red-600 text-lg text-center">
                                <p *ngIf="isOtpTouchedAndInvalid" class="text-red-600">
                                    กรุณากรอก OTP ให้ครบถ้วนและถูกต้อง
                                </p>
                            </div>
                            <div *ngIf="!isTime" class="mt-4 text-center text-[#12268a] flex items-center justify-center gap-1">
                                <span class="w-4 h-4 bg-[url('/assets/images/otp/Vector.png')] bg-no-repeat bg-contain bg-center"></span>
                                ขอ OTP ใหม่ ได้ในอีก
                                <span class="text-[#f4268f]">{{ displaySeconds }} วินาที</span>
                            </div>
                            <div *ngIf="isTime" class="text-[#12268a] cursor-pointer" (click)="requestOtpAgain()">
                                ขอ OTP อีกครั้ง
                            </div>
                            <div class="flex justify-center items-center">
                                <img src="/assets/images/otp/BTN.png" (click)="onSubmit()" class="w-40 sm:w-48 object-cover object-center cursor-pointer">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



















<!-- <div class="w-full h-screen bg-gray-900 flex justify-center items-center">
    <div class="w-full max-w-sm min-h-[calc(100vh-40px)] max-h-[calc(100vh-40px)] overflow-auto
              bg-white p-6 sm:p-10 rounded-xl flex justify-center items-center relative">
        <div class="absolute top-4 left-4">
            <button (click)="goBack()" class="flex items-center justify-center w-10 h-10 rounded-full bg-gray-300 hover:bg-gray-400 cursor-pointer">
                <svg class="w-6 h-6 text-gray-500" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7"></path>
                </svg>
            </button>
        </div>
        <div class="w-full flex flex-col">
            <p class="text-2xl sm:text-4xl mb-6 font-semibold">กรอกรหัส OTP</p>
            <form [formGroup]="otpForm" (ngSubmit)="onSubmit()" autocomplete="one-time-code" class="w-full max-w-md flex flex-col items-center space-y-6">
                <div class="flex justify-between w-full">
                    <input type="tel" #otpInput0 (keydown)="onKeyDown($event, 0)" maxlength="1" inputmode="numeric" pattern="[0-9]*" formControlName="digit1"
                        (input)="onInput($event, 0)" (paste)="onPaste($event)"
                        class="w-12 h-12 text-center text-xl border rounded focus:outline-none focus:ring-2 bg-white border-0 focus:ring-pink-500"
                        [class.border-red-500]="digits[0]?.invalid && digits[0]?.touched" autocomplete="one-time-code" />
                    <input type="tel" #otpInput1 (keydown)="onKeyDown($event, 1)" maxlength="1" inputmode="numeric" pattern="[0-9]*" formControlName="digit2"
                        (input)="onInput($event, 1)" class="w-12 h-12 text-center text-xl border rounded focus:outline-none focus:ring-2 bg-white border-0 focus:ring-pink-500"
                        [class.border-red-500]="digits[1]?.invalid && digits[1]?.touched" autocomplete="one-time-code" />
                    <input type="tel" #otpInput2 (keydown)="onKeyDown($event, 2)" maxlength="1" inputmode="numeric" pattern="[0-9]*" formControlName="digit3"
                        (input)="onInput($event, 2)" class="w-12 h-12 text-center text-xl border rounded focus:outline-none focus:ring-2 bg-white border-0 focus:ring-pink-500"
                        [class.border-red-500]="digits[2]?.invalid && digits[2]?.touched" autocomplete="one-time-code" />
                    <input type="tel" #otpInput3 (keydown)="onKeyDown($event, 3)" maxlength="1" inputmode="numeric" pattern="[0-9]*" formControlName="digit4"
                        (input)="onInput($event, 3)" class="w-12 h-12 text-center text-xl border rounded focus:outline-none focus:ring-2 bg-white border-0 focus:ring-pink-500"
                        [class.border-red-500]="digits[3]?.invalid && digits[3]?.touched" autocomplete="one-time-code" />
                    <input type="tel" #otpInput4 (keydown)="onKeyDown($event, 4)" maxlength="1" inputmode="numeric" pattern="[0-9]*" formControlName="digit5"
                        (input)="onInput($event, 4)" class="w-12 h-12 text-center text-xl border rounded focus:outline-none focus:ring-2 bg-white border-0 focus:ring-pink-500"
                        [class.border-red-500]="digits[4]?.invalid && digits[4]?.touched" autocomplete="one-time-code" />
                    <input type="tel" #otpInput5 (keydown)="onKeyDown($event, 5)" maxlength="1" inputmode="numeric" pattern="[0-9]*" formControlName="digit6"
                        (input)="onInput($event, 5)" class="w-12 h-12 text-center text-xl border rounded focus:outline-none focus:ring-2 bg-white border-0 focus:ring-pink-500"
                        [class.border-red-500]="digits[5]?.invalid && digits[5]?.touched" autocomplete="one-time-code" />
                </div>

                <div class="w-full text-red-600 text-lg">
                    <p *ngIf="isOtpTouchedAndInvalid" class="text-red-600">
                        กรุณากรอก OTP ให้ครบถ้วนและถูกต้อง
                    </p>
                </div>
                <div *ngIf="!isTime" class="mt-4 text-center text-gray-700 font-semibold flex items-center justify-center gap-1">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-700" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v6h6M20 20v-6h-6M5 19a9 9 0 0014-7V9M19 5a9 9 0 00-14 7v3" />
                    </svg>
                    ขอ OTP ใหม่ ได้ในอีก <span class="text-red-500">{{ displaySeconds }} วินาที</span>
                </div>
                <div *ngIf="isTime" class="text-blue-500 cursor-pointer" (click)="requestOtpAgain()">
                    ขอ OTP อีกครั้ง
                </div>
                <button type="submit" [ngClass]="{
    'bg-[rgba(255,0,102,1)]': isMatched,
    'bg-gray-400': !isMatched
  }" class="w-full h-[50px] text-white font-bold text-lg rounded-full
         shadow-[0_4px_0_0_rgba(0,0,0,0.4),_inset_0_-4px_0_0_rgba(0,0,0,0.4)]
         active:shadow-[0_0px_0_0_rgba(0,0,0,0.4),_inset_0_4px_0_0_rgba(0,0,0,0.4)]
         transition duration-150 hover:brightness-110 cursor-pointer">
                    ยืนยัน
                </button>
            </form>

        </div>
    </div>
</div> -->